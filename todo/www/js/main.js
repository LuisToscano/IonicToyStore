function modalForm(o,t,n){function e(){this.modal.show()}function i(){this.modal.hide(),this.val={},this.submitted=!1}this.submitted=!1,this.val={};var s=this;this.open=e,this.close=i,o.fromTemplateUrl(n,function(o){s.modal=o},{scope:t,animation:"slide-in-up"})}!function(){angular.module("store",["ionic"])}(),function(){function o(o,t,n,e){function i(){return 0===d.toys.length}function s(o){return 0===o.comments.length}function l(t){o.toggleInfo(t)}function m(t){t.comments.length>0&&o.toggleComments(t)}function a(t){d.newToy.submitted=!0,t&&(o.addToy(d.newToy.val),d.newToy.close())}function r(t){var e=n.confirm({title:"Borrar juguete",template:'Realmente quieres borrar "'+t.name+'"?'});e.then(function(n){n&&o.deleteToy(t)})}function c(o){d.curToy=o,d.newComment.open()}function u(t){d.newComment.submitted=!0,t&&(o.addComment(d.curToy,d.newComment.val),d.curToy={},d.newComment.close())}var d=this;d.toys=o.list,d.search="",d.curToy={},d.newToy=new modalForm(t,e,"modals/new-toy.html"),d.editToy=new modalForm(t,e,"modals/edit-toy.html"),d.newComment=new modalForm(t,e,"modals/edit-toy.html"),d.toyListEmpty=i,d.commentListEmpty=s,d.toggleInfoVisible=l,d.toggleCommentsVisible=m,d.addToy=a,d.deleteToy=r,d.openComment=c,d.addComment=u}angular.module("store").controller("toyController",o),o.$inject=["$toys","$ionicModal","$ionicPopup","$scope"]}(),function(){angular.module("store").directive("toyContainer",function(){return{restrict:"A",templateUrl:"directives/toy.html"}})}(),function(){function o(){function o(o){this.list.push({name:o.name,description:o.description,comments:[],info_visible:!1,comments_visible:!1}),window.localStorage.toys=angular.toJson(this.list)}function t(o){var t=this.list.indexOf(o);t>=0?(this.list.splice(t,1),window.localStorage.toys=angular.toJson(this.list)):(console.error("Object does not exist."),console.log(o))}function n(o,t){o.comments.push({author:t.author,body:t.body}),window.localStorage.toys=angular.toJson(this.list)}function e(o){o.info_visible=!o.info_visible,window.localStorage.toys=angular.toJson(this.list)}function i(o){o.comments_visible=!o.comments_visible,window.localStorage.toys=angular.toJson(this.list)}this.list=window.localStorage.toys?angular.fromJson(window.localStorage.toys):[],this.addToy=o,this.deleteToy=t,this.addComment=n,this.toggleInfo=e,this.toggleComments=i}angular.module("store").service("$toys",o)}();